<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>IBONARIUM · GLOBAL FORCE MONITOR</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="robots" content="noindex,nofollow">
<meta name="referrer" content="no-referrer">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  width:100%;
  height:100%;
  background:#000;
  color:#9fe7ff;
  font-family:"Courier New", monospace;
  overflow:hidden;
}
canvas{position:fixed;inset:0;z-index:0}
.hud{position:fixed;inset:0;pointer-events:none;z-index:2}
.block{position:absolute;font-size:11px;line-height:1.4;opacity:.85}
.tl{top:10px;left:10px}
.tr{top:10px;right:10px;text-align:right}
.bl{bottom:120px;left:10px}
.br{bottom:120px;right:10px;text-align:right}

.center{
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-50%);
  text-align:center;z-index:3;pointer-events:auto
}
.center h1{font-size:18px;letter-spacing:3px;margin-bottom:10px}

.links a{
  display:block;color:#4dd2ff;text-decoration:none;
  font-size:11px;margin:4px 0
}
.links a:hover{text-shadow:0 0 6px #4dd2ff}

button{
  margin-top:10px;background:transparent;
  border:1px solid #4dd2ff;color:#4dd2ff;
  padding:6px 12px;cursor:pointer
}
audio{display:none}
</style>
</head>

<body>

<canvas id="c"></canvas>

<div class="hud">
  <div class="block tl" id="phys"></div>
  <div class="block tr" id="space"></div>
  <div class="block bl" id="time"></div>
  <div class="block br" id="chaos"></div>
</div>

<div class="center">
  <h1>IBONARIUM</h1>
  <div class="links">
    <a href="#">seismic.force</a>
    <a href="#">magnetic.field</a>
    <a href="#">solar.wind</a>
    <a href="#">atmospheric.flow</a>
    <a href="#">human.noise</a>
    <a href="#">mathematical.feedback</a>
  </div>
  <button id="play">▶ signal</button>
</div>

<audio id="audio" loop>
  <source src="https://upload.wikimedia.org/wikipedia/commons/4/45/White-noise.ogg">
</audio>

<script>
/* ================= CANVAS ================= */
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
addEventListener("resize",resize);resize();

/* ================= GEOMETRIC CHAOS ================= */
let t=0;

/* ================= DATA ================= */
const LAT=50.45, LON=30.52;
let weather={temp:0,wind:0,pressure:0};

fetch(`https://api.open-meteo.com/v1/forecast?latitude=${LAT}&longitude=${LON}&current_weather=true&hourly=pressure_msl`)
.then(r=>r.json())
.then(d=>{
  weather.temp=d.current_weather.temperature;
  weather.wind=d.current_weather.windspeed;
  weather.pressure=d.hourly.pressure_msl[0];
});

let seismic=0.3, magnetic=0.5, solar=0.4, human=0.6;

/* ===== HISTORY BUFFERS FOR GRAPH ===== */
const MAX_POINTS=300;
const history={
  seismic:[], magnetic:[], solar:[], human:[]
};

function pushHistory(){
  for(let k in history){
    history[k].push(eval(k));
    if(history[k].length>MAX_POINTS) history[k].shift();
  }
}

function evolve(){
  seismic+= (Math.random()-0.5)*0.01;
  magnetic+= Math.sin(Date.now()*0.000001)*0.002;
  solar+= (Math.random()-0.5)*0.008;
  human+= (Math.random()-0.5)*0.02;
  seismic=Math.max(0,Math.min(1,seismic));
  magnetic=Math.max(0,Math.min(1,magnetic));
  solar=Math.max(0,Math.min(1,solar));
  human=Math.max(0,Math.min(1,human));
  pushHistory();
}
setInterval(evolve,1000);

/* ================= DRAW ================= */
function draw(){
  ctx.fillStyle="rgba(0,0,0,0.12)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  /* --- central chaos --- */
  ctx.strokeStyle="rgba(77,210,255,0.15)";
  ctx.beginPath();
  for(let i=0;i<600;i++){
    const a=i*0.05+t*0.002;
    const r=200+80*Math.sin(i*0.03+t*0.01);
    ctx.lineTo(
      canvas.width/2+Math.cos(a)*r,
      canvas.height/2+Math.sin(a)*r
    );
  }
  ctx.stroke();

  /* --- bottom linear graph --- */
  const gh=100;
  const gy=canvas.height-gh;
  ctx.strokeStyle="rgba(255,255,255,0.08)";
  ctx.strokeRect(0,gy,canvas.width,gh);

  const drawLine=(arr,color)=>{
    ctx.strokeStyle=color;
    ctx.beginPath();
    arr.forEach((v,i)=>{
      const x=i/ MAX_POINTS * canvas.width;
      const y=gy+gh-(v*gh);
      if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
    });
    ctx.stroke();
  };

  drawLine(history.seismic,"rgba(255,80,80,0.7)");
  drawLine(history.magnetic,"rgba(80,180,255,0.7)");
  drawLine(history.solar,"rgba(255,200,80,0.7)");
  drawLine(history.human,"rgba(200,120,255,0.7)");

  t++;
  requestAnimationFrame(draw);
}
draw();

/* ================= HUD ================= */
function timeForce(){
  const n=new Date();
  return (n.getHours()*3600+n.getMinutes()*60+n.getSeconds())/86400;
}
function hud(){
  phys.innerHTML=
`SEISMIC FORCE : ${(seismic*100).toFixed(1)}%
MAGNETIC FIELD: ${(magnetic*100).toFixed(1)}%
ATM TEMP      : ${weather.temp} °C
WIND SPEED    : ${weather.wind} km/h
PRESSURE      : ${weather.pressure} hPa`;

  space.innerHTML=
`SOLAR WIND    : ${(solar*100).toFixed(1)}%
COSMIC NOISE  : ${(Math.random()*100).toFixed(1)}%`;

  time.innerHTML=
`TIME FLOW     : ${(timeForce()*100).toFixed(2)}%`;

  chaos.innerHTML=
`HUMAN NOISE   : ${(human*100).toFixed(1)}%
ENTROPY       : ${((seismic+solar+human)/3*100).toFixed(1)}%`;

  requestAnimationFrame(hud);
}
hud();

/* ================= AUDIO ================= */
const audio=document.getElementById("audio");
play.onclick=()=>audio.paused?audio.play():audio.pause();
</script>

</body>
</html>
